!function(t){t.fn.airStickyBlock=function(i){return t.airStickyBlock=function(i,o){function e(){d=t(window).height(),k=n.height(),f=n.width(),y=n.offset().top,h=l.width(),u=l.offset().top,b=i.outerHeight(!0),S=h,g=k+y-b,v=u+i.position().top,w=g-u}function s(){x=t(window).scrollTop()+r.offsetTop,r.debug&&t("#airSticky-debug").html("<p>windowHeight - "+d+"</p><p>stopBlockHeight - "+k+"</p><p>stopBlockWidth - "+f+"</p><p>stopBlockOffset - "+y+"</p><p>stickyParentOffset - "+u+"</p><p>stickyParentWidth - "+h+"</p><p>stickyHeight - "+b+"</p><p>stickyWidth - "+S+"</p><p>stickyStop - "+g+"</p><p>stickyStart - "+v+"</p><p>stickyAbsolute - "+w+"</p><p>scrollTop - "+x+"</p>"),x>=v&&g>=x?p("fixed"):"relative"!=i.css("position")&&(c(l),p("relative")),x>=v&&x>=g&&p("absolute"),x>g+b&&p("relative")}function c(t){t.removeAttr("style")}function p(t){switch(t){case"fixed":i.css({position:t,top:r.offsetTop+"px"}).removeClass("airSticky_absolute airSticky_relative").addClass("airSticky_fixed");break;case"absolute":i.css({position:t,top:w+"px"}).removeClass("airSticky_fixed airSticky_relative").addClass("airSticky_absolute");break;case"relative":i.css({position:"relative",top:"auto"}).removeClass("airSticky_fixed airSticky_absolute").addClass("airSticky_relative")}}function a(){i.css({width:S+"px"})}var r,n,l,d,k,f,y,u,h,b,S,g,v,w,x;r=t.extend({debug:!1,stopBlock:".airSticky_stop-block",offsetTop:0},o),n=t(r.stopBlock),l=i.parent(),r.debug&&t("body").append('<div id="airSticky-debug" style="position: fixed;top: 0;left: 0;padding: 10px;background: #272727;color: #9d9d9d;z-index: 1000;opacity: 0.9;">'),e(),s(),a(),t(window).bind("resize scroll orientationchange",function(t){"scroll"==t.type&&g>v&&f>S?s():(c(i),e(),g>v&&f>S&&(a(),s()))})},this.each(function(){new t.airStickyBlock(t(this),i)})}}(jQuery);